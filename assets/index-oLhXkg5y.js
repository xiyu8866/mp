const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AboutView-cQnAAbad.js","assets/AboutView-D5nPxzlN.css"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=(t,o,n)=>((t,o,n)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[o]=n)(t,"symbol"!=typeof o?o+"":o,n);!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const o of e)if("childList"===o.type)for(const e of o.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const o=Vue.defineComponent({__name:"App",setup(e){const t=Vue.ref(0);return(e,o)=>{const n=Vue.resolveComponent("RouterView"),l=Vue.resolveComponent("van-tabbar-item"),a=Vue.resolveComponent("van-tabbar"),u=Vue.resolveComponent("van-config-provider");return Vue.openBlock(),Vue.createBlock(u,{class:"xigua"},{default:Vue.withCtx((()=>[Vue.createVNode(n),Vue.createVNode(a,{modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=e=>t.value=e),placeholder:""},{default:Vue.withCtx((()=>[Vue.createVNode(l,{replace:"",to:"/",icon:"home-o"},{default:Vue.withCtx((()=>[Vue.createTextVNode("账号")])),_:1}),Vue.createVNode(l,{replace:"",to:"/about",icon:"setting-o"},{default:Vue.withCtx((()=>[Vue.createTextVNode("设置")])),_:1})])),_:1},8,["modelValue"])])),_:1})}}}),n={};function l(e){var t;const o=[/[\u4e00-\u9fff]/,/[a-zA-Z]/];if(o[0].test(e[0])){const o=(null==(t=null==pinyin?void 0:pinyin.default)?void 0:t.STYLE_FIRST_LETTER)||pinyin.STYLE_FIRST_LETTER;return("function"!=typeof pinyin?pinyin.pinyin:pinyin)(e,{style:o})[0][0].toUpperCase()}return o[1].test(e[0])?e[0].toUpperCase():"#"}function a(e,t,o="text/plain"){if(!e)return;const n=document.createElement("a"),l=new Blob([e],{type:o});n.download=t,n.href=URL.createObjectURL(l),n.dataset.downloadurl=["application/octet-stream",n.download,n.href].join(":"),document.body.appendChild(n),n.click(),document.body.removeChild(n),setTimeout((()=>URL.revokeObjectURL(n.href)),0)}function u(){return/MicroMessenger/i.test(navigator.userAgent)}const r=e=>(Vue.pushScopeId("data-v-69d74e02"),e=e(),Vue.popScopeId(),e),s={class:"card popup"},c=r((()=>Vue.createElementVNode("div",{class:"title"},"创建密码",-1))),i={class:"box"},d={class:"cell",style:{"margin-bottom":"5px"}},V=r((()=>Vue.createElementVNode("div",{class:"label"},"预览",-1))),v=["textContent"],p={class:"cell"},m=r((()=>Vue.createElementVNode("div",{class:"label"},"位数",-1))),A=["textContent"],h={class:"cell big"},N={class:"cell option"},f=r((()=>Vue.createElementVNode("div",{class:"label"},"字母",-1))),g={class:"cell option"},y=r((()=>Vue.createElementVNode("div",{class:"label"},"大写字母",-1))),w={class:"cell option"},b=r((()=>Vue.createElementVNode("div",{class:"label"},"数字",-1))),C={class:"cell option"},E=r((()=>Vue.createElementVNode("div",{class:"label"},"符号",-1))),B={class:"tools"},x=(e,t)=>{const o=e.__vccOpts||e;for(const[n,l]of t)o[n]=l;return o},D=x(Vue.defineComponent({__name:"xg_password",props:{copy:{type:Boolean,default:!0}},emits:["sure"],setup(e,{expose:t,emit:o}){const n=o,l=e,a=Vue.ref(!1),u={digits:8,en:!0,EN:!0,num:!0,symbol:!0},r=Vue.ref({...u}),x=()=>{r.value={...u}},D=Vue.ref(""),k=()=>{S()};function S(){D.value=function(e){const t={digits:8,en:!0,EN:!0,num:!0,symbol:!0};Object.assign(t,e);const o={en:"abcdefghijklmnopqrstuvwxyz",EN:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",num:"0123456789",symbol:"!@#$%^&*_+~.?"};let n="";if(Object.keys(o).forEach((e=>{t[e]&&(n+=o[e])})),!n)return"别捣乱";let l="";for(let a=0;a<t.digits;a++)l+=n.charAt(Math.floor(Math.random()*n.length));return l}(r.value)}const _=()=>{l.copy?navigator.clipboard.writeText(D.value).then((()=>{vant.showNotify({type:"success",message:"复制成功"})})).catch((()=>{vant.showNotify({type:"danger",message:"复制失败，请手动复制"})})):(n("sure",D.value),a.value=!1)};return t({popupShow:()=>{S(),a.value=!0}}),(e,t)=>{const o=Vue.resolveComponent("van-icon"),n=Vue.resolveComponent("van-slider"),u=Vue.resolveComponent("van-switch"),I=Vue.resolveComponent("van-popup");return Vue.openBlock(),Vue.createBlock(I,{show:a.value,"onUpdate:show":t[6]||(t[6]=e=>a.value=e),round:"",onClosed:x},{default:Vue.withCtx((()=>[Vue.createElementVNode("div",s,[c,Vue.createElementVNode("div",i,[Vue.createElementVNode("div",d,[V,Vue.createVNode(o,{name:"replay",onClick:S})]),Vue.createElementVNode("div",{class:"cell password",textContent:Vue.toDisplayString(D.value)},null,8,v),Vue.createElementVNode("div",p,[m,Vue.createElementVNode("div",{class:"label",textContent:Vue.toDisplayString(r.value.digits)},null,8,A)]),Vue.createElementVNode("div",h,[Vue.createVNode(n,{modelValue:r.value.digits,"onUpdate:modelValue":t[0]||(t[0]=e=>r.value.digits=e),"active-color":"#4D5466","button-size":"16px",max:30,onChange:k},null,8,["modelValue"])]),Vue.createElementVNode("div",N,[f,Vue.createVNode(u,{modelValue:r.value.en,"onUpdate:modelValue":t[1]||(t[1]=e=>r.value.en=e),onChange:k},null,8,["modelValue"])]),Vue.createElementVNode("div",g,[y,Vue.createVNode(u,{modelValue:r.value.EN,"onUpdate:modelValue":t[2]||(t[2]=e=>r.value.EN=e),onChange:k},null,8,["modelValue"])]),Vue.createElementVNode("div",w,[b,Vue.createVNode(u,{modelValue:r.value.num,"onUpdate:modelValue":t[3]||(t[3]=e=>r.value.num=e),onChange:k},null,8,["modelValue"])]),Vue.createElementVNode("div",C,[E,Vue.createVNode(u,{modelValue:r.value.symbol,"onUpdate:modelValue":t[4]||(t[4]=e=>r.value.symbol=e),onChange:k},null,8,["modelValue"])])])]),Vue.createElementVNode("div",B,[Vue.createElementVNode("div",{class:"c",onClick:t[5]||(t[5]=e=>a.value=!1)},"取消"),Vue.createElementVNode("div",{class:"c copy",onClick:_},Vue.toDisplayString(l.copy?"复制":"确定"),1)])])),_:1},8,["show"])}}}),[["__scopeId","data-v-69d74e02"]]),k=(e=>(Vue.pushScopeId("data-v-9375d0e0"),e=e(),Vue.popScopeId(),e))((()=>Vue.createElementVNode("div",null,null,-1))),S={class:"btn-box"},_=x(Vue.defineComponent({__name:"xg_form",emits:["add","update"],setup(e,{expose:t,emit:o}){const n=o,l=Vue.ref(null),a=Vue.ref(!1),u={t:"",u:"",p:"",r:"",c:"",create_time:"",update_time:""},r=Vue.ref({...u}),s=()=>{r.value={...u}};function c(){const e=r.value.id?"update_time":"create_time";r.value[e]=Date.now();const t=Vue.toRaw(r.value);r.value.id?n("update",t):n("add",t),a.value=!1}function i(e){r.value.p=e}const d=()=>{var e;null==(e=l.value)||e.popupShow()};return t({popupToggle:()=>{a.value=!a.value},update:function(e){r.value={...e},a.value=!0}}),(e,t)=>{const o=Vue.resolveComponent("van-nav-bar"),n=Vue.resolveComponent("van-field"),u=Vue.resolveComponent("van-icon"),V=Vue.resolveComponent("van-cell-group"),v=Vue.resolveComponent("van-button"),p=Vue.resolveComponent("van-form"),m=Vue.resolveComponent("van-popup");return Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,[Vue.createVNode(m,{show:a.value,"onUpdate:show":t[6]||(t[6]=e=>a.value=e),position:"bottom",style:{height:"100vh"},onClosed:s},{default:Vue.withCtx((()=>[Vue.createVNode(o,{"left-text":"返回","left-arrow":"",fixed:"",placeholder:"",onClickLeft:t[0]||(t[0]=e=>a.value=!1)}),Vue.createVNode(p,{onSubmit:c,"validate-first":"","scroll-to-error":"","show-error":""},{default:Vue.withCtx((()=>[Vue.createVNode(V,{inset:""},{default:Vue.withCtx((()=>[Vue.createVNode(n,{modelValue:r.value.t,"onUpdate:modelValue":t[1]||(t[1]=e=>r.value.t=e),name:"t",label:"标题",placeholder:"请输入标题",rules:[{required:!0,message:""}]},null,8,["modelValue"]),Vue.createVNode(n,{modelValue:r.value.u,"onUpdate:modelValue":t[2]||(t[2]=e=>r.value.u=e),name:"u",label:"账号",placeholder:"请输入账号"},null,8,["modelValue"]),Vue.createVNode(n,{modelValue:r.value.p,"onUpdate:modelValue":t[3]||(t[3]=e=>r.value.p=e),name:"p",label:"密码",placeholder:"请输入密码"},{button:Vue.withCtx((()=>[Vue.createVNode(u,{name:"records",size:"22",onClick:d})])),_:1},8,["modelValue"]),Vue.createVNode(n,{modelValue:r.value.c,"onUpdate:modelValue":t[4]||(t[4]=e=>r.value.c=e),name:"c",label:"卡号",type:"digit",placeholder:"请输入卡号"},null,8,["modelValue"]),Vue.createVNode(n,{modelValue:r.value.r,"onUpdate:modelValue":t[5]||(t[5]=e=>r.value.r=e),type:"textarea",autosize:"",name:"r",label:"备注",placeholder:"请输入备注"},null,8,["modelValue"]),k])),_:1}),Vue.createElementVNode("div",S,[Vue.createVNode(v,{block:"",type:"primary","native-type":"submit"},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(r.value.id?"编辑":"添加"),1)])),_:1})])])),_:1})])),_:1},8,["show"]),Vue.createVNode(D,{ref_key:"passRef",ref:l,copy:!1,onSure:i},null,512)],64)}}}),[["__scopeId","data-v-9375d0e0"]]),I="data:image/png;base64,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",U={class:"card popup"},Q=["textContent"],R={class:"item"},P=Vue.createElementVNode("div",{class:"label"},"账号：",-1),L=["textContent"],T=Vue.createElementVNode("img",{src:I,alt:"",class:"copy"},null,-1),Y={class:"item"},j=Vue.createElementVNode("div",{class:"label"},"密码：",-1),F=["textContent"],G=Vue.createElementVNode("img",{src:I,alt:"",class:"copy"},null,-1),M={class:"item"},J=Vue.createElementVNode("div",{class:"label"},"卡号：",-1),Z=["textContent"],O=Vue.createElementVNode("img",{src:I,alt:"",class:"copy"},null,-1),K={class:"item remark"},z=Vue.createElementVNode("div",{class:"label"},"备注：",-1),H=["textContent"],X=Vue.createElementVNode("img",{src:I,alt:"",class:"copy"},null,-1),q={class:"item time"},W={class:"tools"},$=Vue.createElementVNode("p",null,"编辑",-1),ee=Vue.createElementVNode("p",null,"删除",-1),te=Vue.defineComponent({__name:"xg_popup",emits:["update","del"],setup(e,{expose:t,emit:o}){const n=Vue.ref(!1),l=Vue.ref({}),a=Vue.computed((()=>{var e,t,o;const n=(null==(e=l.value)?void 0:e.update_time)?"更新":"创建",a=(null==(t=l.value)?void 0:t.update_time)?"update_time":"create_time";return`${n}于${dayjs(null==(o=l.value)?void 0:o[a]).format("YYYY-MM-DD HH:mm:ss")}`})),u=o,r=e=>{u(e,l.value.id),"update"===e&&(n.value=!1)};return t({open:e=>{l.value={...e},n.value=!0},hide:()=>{n.value=!1}}),(e,t)=>{const o=Vue.resolveComponent("van-icon"),u=Vue.resolveComponent("van-popup"),s=Vue.resolveDirective("clipboard");return Vue.openBlock(),Vue.createBlock(u,{show:n.value,"onUpdate:show":t[2]||(t[2]=e=>n.value=e),"overlay-class":"xg-overlay"},{default:Vue.withCtx((()=>{var e,n,u,c,i,d,V,v,p,m,A,h,N;return[Vue.createElementVNode("div",U,[Vue.createElementVNode("div",{class:"title",textContent:Vue.toDisplayString(null==(e=l.value)?void 0:e.t)},null,8,Q),Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("div",R,[P,Vue.createElementVNode("div",{class:"val",textContent:Vue.toDisplayString(null==(n=l.value)?void 0:n.u)},null,8,L),T])),[[Vue.vShow,null==(u=l.value)?void 0:u.u],[s,null==(c=l.value)?void 0:c.u,"copy"],[s,"复制成功","success"]]),Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("div",Y,[j,Vue.createElementVNode("div",{class:"val",textContent:Vue.toDisplayString(null==(i=l.value)?void 0:i.p)},null,8,F),G])),[[Vue.vShow,null==(d=l.value)?void 0:d.p],[s,null==(V=l.value)?void 0:V.p,"copy"],[s,"复制成功","success"]]),Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("div",M,[J,Vue.createElementVNode("div",{class:"val",textContent:Vue.toDisplayString(null==(v=l.value)?void 0:v.c)},null,8,Z),O])),[[Vue.vShow,null==(p=l.value)?void 0:p.c],[s,null==(m=l.value)?void 0:m.c,"copy"],[s,"复制成功","success"]]),Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("div",K,[z,Vue.createElementVNode("div",{class:"val",textContent:Vue.toDisplayString(null==(A=l.value)?void 0:A.r)},null,8,H),X])),[[Vue.vShow,null==(h=l.value)?void 0:h.r],[s,null==(N=l.value)?void 0:N.r,"copy"],[s,"复制成功","success"]]),Vue.createElementVNode("div",q,Vue.toDisplayString(a.value),1),Vue.createElementVNode("div",W,[Vue.createElementVNode("div",{class:"c",onClick:t[0]||(t[0]=e=>r("update"))},[Vue.createVNode(o,{name:"edit"}),$]),Vue.createElementVNode("div",{class:"c",onClick:t[1]||(t[1]=e=>r("del"))},[Vue.createVNode(o,{name:"delete-o"}),ee])])])]})),_:1},8,["show"])}}});class oe{constructor(e){t(this,"dbName","XGDatabase"),t(this,"version",1),t(this,"storeName"),t(this,"db"),this.storeName=e}openDB(){return new Promise(((e,t)=>{const o=window.indexedDB.open(this.dbName,this.version);o.onerror=()=>t(o.error),o.onsuccess=()=>{this.db=o.result,e(this.db)},o.onupgradeneeded=()=>{const e=o.result;e.objectStoreNames.contains(this.storeName)||e.createObjectStore(this.storeName,{keyPath:"id",autoIncrement:!0})}}))}async addData(e){const t=(await this.openDB()).transaction(this.storeName,"readwrite").objectStore(this.storeName).add(e);return await new Promise(((e,o)=>{t.onsuccess=()=>e(t.result),t.onerror=()=>o(t.error)}))}async addListData(e){const t=(await this.openDB()).transaction(this.storeName,"readwrite").objectStore(this.storeName),o=e.map((e=>t.put(e)));await Promise.all(o)}async getAllData(){const e=(await this.openDB()).transaction(this.storeName,"readonly").objectStore(this.storeName);return await new Promise(((t,o)=>{const n=e.getAll();n.onsuccess=()=>t(n.result),n.onerror=()=>o(n.error)}))}async updateData(e){const t=(await this.openDB()).transaction(this.storeName,"readwrite").objectStore(this.storeName);return await new Promise(((o,n)=>{const l=t.put(e);l.onsuccess=()=>o(l.result),l.onerror=()=>n(l.error)}))}async getDataByKey(e){const t=(await this.openDB()).transaction(this.storeName,"readonly").objectStore(this.storeName);return await new Promise(((o,n)=>{const l=t.get(e);l.onsuccess=()=>o(l.result),l.onerror=()=>n(l.error)}))}async deleteDataByKey(e){const t=(await this.openDB()).transaction(this.storeName,"readwrite").objectStore(this.storeName);return await new Promise(((o,n)=>{const l=t.delete(e);l.onsuccess=()=>o(l.result),l.onerror=()=>n(l.error)}))}async deleteAll(){const e=(await this.openDB()).transaction(this.storeName,"readwrite").objectStore(this.storeName);return await new Promise(((t,o)=>{const n=e.clear();n.onsuccess=()=>t(n.result),n.onerror=()=>o(n.error)}))}closeDB(){this.db&&this.db.close()}}const ne={class:"wrap"},le=["onClick"],ae=["textContent"],ue=["textContent"],re=Vue.defineComponent({__name:"HomeView",setup(e){const t=Vue.ref(null),o=Vue.ref(null),n=new oe("userinfo"),a=Vue.ref(null),u=Vue.computed((()=>{var e;return null==(e=a.value)?void 0:e.reduce(((e,t)=>{const o=t.index;return e[o]||(e[o]=[]),e[o].push(t),e}),{})})),r=Vue.computed((()=>Object.keys(u.value||{})));Vue.onMounted((()=>{!async function(){const e=await n.getAllData();e&&e.length&&(a.value=function(e){const t=e.map((e=>({...e,index:l(e.t)})));return t.sort(((e,t)=>e.index.localeCompare(t.index))),t}(e))}()}));const s=e=>{n.addData(e).then((t=>{var o,n;const u={...e,id:t,index:l(e.t)};a.value||(a.value=[]),null==(o=a.value)||o.push(u),null==(n=a.value)||n.sort(((e,t)=>e.index.localeCompare(t.index))),vant.showSuccessToast("添加成功")})).catch(console.error)},c=e=>{n.updateData(e).then((()=>{var t,o;const n=null==(t=a.value)?void 0:t.findIndex((t=>t.id===e.id)),u={...e,index:l(e.t)};void 0!==n&&-1!==n&&(null==(o=a.value)||o.splice(n,1,u)),vant.showSuccessToast("更新成功")})).catch(console.error)},i=e=>{vant.showDialog({title:"提示",message:"确认删除？",showCancelButton:!0,overlayClass:"dialog-lay"}).then((()=>{n.deleteDataByKey(e).then((()=>{var t,n,l;const u=null==(t=a.value)?void 0:t.findIndex((t=>t.id===e));void 0!==u&&-1!==u&&(null==(n=a.value)||n.splice(u,1)),null==(l=o.value)||l.hide(),vant.showSuccessToast("删除成功")})).catch(console.error)}))},d=()=>{var e;null==(e=t.value)||e.popupToggle()},V=e=>{var o,n;const l=null==(o=a.value)?void 0:o.find((t=>t.id===e));null==(n=t.value)||n.update({...l})};return(e,n)=>{const l=Vue.resolveComponent("van-nav-bar"),v=Vue.resolveComponent("van-index-anchor"),p=Vue.resolveComponent("van-divider"),m=Vue.resolveComponent("van-index-bar"),A=Vue.resolveComponent("van-empty"),h=Vue.resolveComponent("van-icon");return Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,[Vue.createVNode(l,{title:"账号密码箱",fixed:"",placeholder:""}),Vue.createElementVNode("main",ne,[a.value&&a.value.length?(Vue.openBlock(),Vue.createBlock(m,{key:0,sticky:!1,"index-list":r.value},{default:Vue.withCtx((()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(u.value,((e,t)=>(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,{key:t},[Vue.createVNode(v,{index:t},null,8,["index"]),(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(e,(e=>(Vue.openBlock(),Vue.createElementBlock("div",{key:e.id,class:"card",onClick:t=>(e=>{var t;null==(t=o.value)||t.open(e)})(e)},[Vue.createElementVNode("div",{class:"title",textContent:Vue.toDisplayString(e.t)},null,8,ae),Vue.createElementVNode("div",{class:"val",textContent:Vue.toDisplayString(e.u)},null,8,ue)],8,le)))),128))],64)))),128)),Vue.createVNode(p,{style:{borderColor:"transparent"}},{default:Vue.withCtx((()=>[Vue.createTextVNode("已保存"+Vue.toDisplayString(a.value.length)+"条数据",1)])),_:1})])),_:1},8,["index-list"])):(Vue.openBlock(),Vue.createBlock(A,{key:1,image:"https://fastly.jsdelivr.net/npm/@vant/assets/custom-empty-image.png","image-size":"80",description:"暂无内容，请点击 + 添加数据吧"})),Vue.createElementVNode("div",{class:"add-btn",onClick:d},[Vue.createVNode(h,{name:"plus"})])]),Vue.createVNode(_,{ref_key:"formRef",ref:t,onAdd:s,onUpdate:c},null,512),Vue.createVNode(te,{ref_key:"popupRef",ref:o,onUpdate:V,onDel:i},null,512)],64)}}}),se=VueRouter.createRouter({history:VueRouter.createWebHistory("/mp"),routes:[{path:"/",name:"home",component:re},{path:"/about",name:"about",component:()=>function(e,t,o){let l=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),o=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));l=Promise.all(t.map((e=>{if((e=function(e){return"/mp/"+e}(e))in n)return;n[e]=!0;const t=e.endsWith(".css"),l=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${l}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script",a.crossOrigin=""),a.href=e,o&&a.setAttribute("nonce",o),document.head.appendChild(a),t?new Promise(((t,o)=>{a.addEventListener("load",t),a.addEventListener("error",(()=>o(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}return l.then((()=>e())).catch((e=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}))}((()=>import("./AboutView-cQnAAbad.js")),__vite__mapDeps([0,1]))}]}),ce={clipboard:{beforeMount(e,t){if("success"===t.arg)e._v_clipboard_success=t.value;else if("error"===t.arg)e._v_clipboard_error=t.value;else{const o=new Clipboard(e,{text:()=>t.value,action:()=>"cut"===t.arg?"cut":"copy"});o.on("success",(t=>{const o=e._v_clipboard_success;if(!o)return!1;"function"==typeof o&&o(t),"string"==typeof o&&vant.showNotify({type:"success",message:o})})),o.on("error",(t=>{const o=e._v_clipboard_error;if(!o)return!1;"function"==typeof o&&o(t),"string"==typeof o&&vant.showNotify({type:"danger",message:o})})),e._v_clipboard=o}},beforeUpdate(e,t){"success"===t.arg?e._v_clipboard_success=t.value:"error"===t.arg?e._v_clipboard_error=t.value:(e._v_clipboard.text=function(){return t.value},e._v_clipboard.action=function(){return"cut"===t.arg?"cut":"copy"})},unmounted(e,t){"success"===t.arg?delete e._v_clipboard_success:"error"===t.arg?delete e._v_clipboard_error:(e._v_clipboard.destroy(),delete e._v_clipboard)}}};!function(e,t){const o=e.documentElement,n="orientationchange"in window?"orientationchange":"resize",l=function(){const e=o.clientWidth;e&&(o.style.fontSize=e/(e>=750?1920:750)*100+"px")};e.addEventListener&&(t.addEventListener(n,l,!1),l())}(document,window);const ie=Vue.createApp(o);var de;ie.use(se),ie.use(vant),de=ie,Object.keys(ce).forEach((e=>{de.directive(e,ce[e])})),ie.mount("#app");export{oe as I,x as _,a as d,u as i,D as x};
